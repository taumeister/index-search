[ ca ]
default_ca              = CA_default

[ CA_default ]
new_certs_dir           = /app/linux-subca/ca/newcerts
database                = /app/linux-subca/ca/database/database.txt
serial                  = /app/linux-subca/ca/serial/serial.txt
randfile                = /app/linux-subca/ca/rand/random.txt
private_key             = /app/linux-subca/ca/private/unixuser.intern-sub-CA.key
certificate             = /app/linux-subca/ca/subCA/unixuser.intern-sub-CA.crt
root_ca_certificate     = /app/linux-subca/ca/rootCA/unixuser.intern-root-CA.crt
default_days            = 730
default_md              = sha256
preserve                = no
email_in_dn             = no
nameopt                 = default_ca
certopt                 = default_ca
policy                  = policy_match
default_crl_days        = 365
crl                     = crl_ext

[ crl_ext ]
authorityKeyIdentifier  = keyid:always
crl_dir                 = /app/linux-subca/ca/crl
crl                     = /app/linux-subca/ca/crl/unixuser.intern.crl
crl_extensions          = crl_ext


[ policy_match ]
countryName             = optional
stateOrProvinceName     = optional
organizationName        = optional
organizationalUnitName  = optional
commonName              = supplied
emailAddress            = optional

[ req ]
default_bits            = 2048
default_keyfile         = privkey.pem
default_md              = sha256
string_mask             = utf8only
distinguished_name      = req_distinguished_name
req_extensions          = v3_server
# req_extensions = v3_ca !! Nur zum erstellen einer subCA !!
# req_extensions = v3_server
# req_extensions = v3_client

[ req_distinguished_name ]
countryName             = Country Name (2 letter code)
countryName_default     = DE
stateOrProvinceName     = State or Province Name (full name)
localityName            = Locality Name (eg, city)
0.organizationName      = Organization Name (eg, company)
organizationalUnitName  = Organizational Unit Name (eg, section)
commonName              = Common Name (eg, YOUR name)
emailAddress            = Email Address

[ v3_server ]
subjectKeyIdentifier    = hash
basicConstraints        = CA:FALSE
keyUsage                = digitalSignature, keyEncipherment
extendedKeyUsage        = serverAuth

subjectAltName=DNS:index-suche.unixuser.intern,DNS:index-suche
authorityInfoAccess = @issuer_info
crlDistributionPoints = @crl_info
[issuer_info]
caIssuers;URI.0 = http://unixuser.intern-sub-CA.crt
[crl_info]
URI.1 = http://unixuser.intern-sub-CA.crl
